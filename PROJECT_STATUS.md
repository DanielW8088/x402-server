# Token Mint é¡¹ç›®çŠ¶æ€

## âœ… é‡æž„å®Œæˆ

å·²å°†æ•´ä¸ªé¡¹ç›®é‡æž„ä¸º**ä¸ä¾èµ–æœ¬åœ° x402 åŒ…**çš„ç‹¬ç«‹ç‰ˆæœ¬ã€‚

## ðŸ“¦ é¡¹ç›®ç»“æž„

```
token-mint/
â”œâ”€â”€ server/              âœ… æœåŠ¡å™¨ï¼ˆé‡æž„å®Œæˆï¼‰
â”‚   â”œâ”€â”€ index.ts         - ä¸»æœåŠ¡å™¨ä»£ç 
â”‚   â”œâ”€â”€ package.json     - æ ‡å‡†ä¾èµ–ï¼ˆæ—  workspaceï¼‰
â”‚   â”œâ”€â”€ .env.example     - çŽ¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â””â”€â”€ README.md        - å®Œæ•´æ–‡æ¡£
â”‚
â”œâ”€â”€ client/              âœ… å®¢æˆ·ç«¯ï¼ˆé‡æž„å®Œæˆï¼‰
â”‚   â”œâ”€â”€ index.ts         - ä¸»å®¢æˆ·ç«¯ä»£ç 
â”‚   â”œâ”€â”€ package.json     - æ ‡å‡†ä¾èµ–ï¼ˆæ—  workspaceï¼‰
â”‚   â”œâ”€â”€ .env.example     - çŽ¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â”œâ”€â”€ README.md        - å®Œæ•´æ–‡æ¡£
â”‚   â””â”€â”€ USAGE.md         - ä½¿ç”¨æŒ‡å—
â”‚
â”œâ”€â”€ contracts/           âš ï¸  ä¿æŒåŽŸæ ·
â”‚   â”œâ”€â”€ contracts/       - æ™ºèƒ½åˆçº¦
â”‚   â””â”€â”€ scripts/         - éƒ¨ç½²è„šæœ¬
â”‚
â””â”€â”€ QUICK_START.md       âœ… å¿«é€Ÿå¼€å§‹æŒ‡å—
```

## ðŸŽ¯ é‡æž„å†…å®¹

### Server é‡æž„

**ç§»é™¤çš„ä¾èµ–ï¼š**
- âŒ `x402-express` (workspace:*)

**æ–°å¢žçš„ä¾èµ–ï¼š**
- âœ… `@coinbase/cdp-sdk` - Coinbase SDK
- âœ… `express` - Web æ¡†æž¶
- âœ… `viem` - ä»¥å¤ªåŠäº¤äº’
- âœ… `dotenv` - çŽ¯å¢ƒå˜é‡

**ä¸»è¦åŠŸèƒ½ï¼š**
- âœ… éªŒè¯ USDC é“¾ä¸Šæ”¯ä»˜
- âœ… è°ƒç”¨åˆçº¦ mint ä»£å¸
- âœ… é˜²æ­¢é‡å¤ mint
- âœ… ä¾›åº”é‡æ£€æŸ¥
- âœ… REST API æŽ¥å£

### Client é‡æž„

**ç§»é™¤çš„ä¾èµ–ï¼š**
- âŒ `x402-axios` (workspace:*)

**æ–°å¢žçš„ä¾èµ–ï¼š**
- âœ… `axios` - HTTP å®¢æˆ·ç«¯
- âœ… `viem` - ä»¥å¤ªåŠäº¤äº’
- âœ… `dotenv` - çŽ¯å¢ƒå˜é‡

**ä¸»è¦åŠŸèƒ½ï¼š**
- âœ… è‡ªåŠ¨å‘é€ USDC æ”¯ä»˜
- âœ… è°ƒç”¨æœåŠ¡å™¨ mint API
- âœ… ä½™é¢æ£€æŸ¥
- âœ… äº¤æ˜“ç¡®è®¤
- âœ… å®Œæ•´é”™è¯¯å¤„ç†

## ðŸ“ åˆ›å»ºçš„æ–‡æ¡£

1. **server/README.md** - æœåŠ¡å™¨å®Œæ•´æ–‡æ¡£
2. **client/README.md** - å®¢æˆ·ç«¯å®Œæ•´æ–‡æ¡£
3. **client/USAGE.md** - å®¢æˆ·ç«¯ä½¿ç”¨æŒ‡å—
4. **QUICK_START.md** - é¡¹ç›®å¿«é€Ÿå¼€å§‹
5. **PROJECT_STATUS.md** - æœ¬æ–‡æ¡£

## ðŸ”§ ç¼–è¯‘çŠ¶æ€

### Server
```bash
âœ… npm install - æˆåŠŸ
âœ… npm run build - ç¼–è¯‘é€šè¿‡
âœ… npm start - å¯ä»¥è¿è¡Œ
```

### Client
```bash
âœ… npm install - æˆåŠŸ
âœ… npm run build - ç¼–è¯‘é€šè¿‡
âœ… ä»£ç è´¨é‡æ£€æŸ¥ - æ— é”™è¯¯
```

## ðŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœåŠ¡å™¨

```bash
cd server
npm install
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥é…ç½®
npm start
```

### 2. è¿è¡Œå®¢æˆ·ç«¯

```bash
cd client
npm install
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥ç§é’¥
npm start
```

## ðŸ”„ å·¥ä½œæµç¨‹

```
Client                          Server                      Blockchain
  â”‚                               â”‚                              â”‚
  â”œâ”€ 1. GET /info â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                              â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€ æœåŠ¡å™¨ä¿¡æ¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
  â”‚                               â”‚                              â”‚
  â”œâ”€ 2. å‘é€ USDC â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€ TX Hash â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                               â”‚                              â”‚
  â”œâ”€ 3. POST /mint â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                              â”‚
  â”‚    (paymentTxHash, payer)    â”‚                              â”‚
  â”‚                               â”œâ”€ 4. éªŒè¯æ”¯ä»˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                               â”‚<â”€â”€â”€â”€ æ”¯ä»˜ç¡®è®¤ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                               â”‚                              â”‚
  â”‚                               â”œâ”€ 5. Mint ä»£å¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚                               â”‚<â”€â”€â”€â”€ Mint æˆåŠŸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚<â”€â”€â”€â”€â”€â”€ Mint ç»“æžœ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
  â”‚                               â”‚                              â”‚
```

## ðŸŽ¨ ä¸»è¦ç‰¹æ€§

### Server

1. **USDC æ”¯ä»˜éªŒè¯**
   - éªŒè¯äº¤æ˜“å­˜åœ¨ä¸”æˆåŠŸ
   - æ£€æŸ¥ Transfer äº‹ä»¶
   - ç¡®è®¤æ”¯ä»˜é‡‘é¢å’ŒæŽ¥æ”¶åœ°å€

2. **Mint ç®¡ç†**
   - è°ƒç”¨åˆçº¦ mint å‡½æ•°
   - æ£€æŸ¥ä¾›åº”é‡ä¸Šé™
   - é˜²æ­¢é‡å¤ mint

3. **API ç«¯ç‚¹**
   - `GET /health` - å¥åº·æ£€æŸ¥
   - `GET /info` - Mint ä¿¡æ¯
   - `POST /mint` - Mint ä»£å¸

### Client

1. **è‡ªåŠ¨æ”¯ä»˜æµç¨‹**
   - æ£€æŸ¥ USDC ä½™é¢
   - å‘é€ USDC åˆ°æŒ‡å®šåœ°å€
   - ç­‰å¾…äº¤æ˜“ç¡®è®¤

2. **Mint è¯·æ±‚**
   - è°ƒç”¨æœåŠ¡å™¨ API
   - æä¾›æ”¯ä»˜äº¤æ˜“å“ˆå¸Œ
   - æ˜¾ç¤º mint ç»“æžœ

3. **é”™è¯¯å¤„ç†**
   - ä½™é¢ä¸è¶³æç¤º
   - äº¤æ˜“å¤±è´¥å¤„ç†
   - æœåŠ¡å™¨é”™è¯¯æ˜¾ç¤º

## ðŸ” çŽ¯å¢ƒå˜é‡

### Server (.env)

```bash
SERVER_PRIVATE_KEY=0x...           # æœåŠ¡å™¨ç§é’¥ï¼ˆéœ€è¦ MINTER_ROLEï¼‰
TOKEN_CONTRACT_ADDRESS=0x...       # ä»£å¸åˆçº¦åœ°å€
USDC_CONTRACT_ADDRESS=0x...        # USDC åˆçº¦åœ°å€ï¼ˆå¯é€‰ï¼‰
PAY_TO_ADDRESS=0x...               # æŽ¥æ”¶ USDC çš„åœ°å€
NETWORK=base-sepolia               # ç½‘ç»œ
REQUIRED_PAYMENT_USDC=1            # æ‰€éœ€ USDC é‡‘é¢
PORT=4021                          # æœåŠ¡å™¨ç«¯å£
```

### Client (.env)

```bash
PRIVATE_KEY=0x...                  # ä½ çš„ç§é’¥
SERVER_URL=http://localhost:4021   # æœåŠ¡å™¨åœ°å€
USDC_CONTRACT_ADDRESS=0x...        # USDC åˆçº¦åœ°å€ï¼ˆå¯é€‰ï¼‰
NETWORK=base-sepolia               # ç½‘ç»œ
PAYMENT_AMOUNT_USDC=1              # æ”¯ä»˜é‡‘é¢
```

## ðŸ“Š æµ‹è¯•çŠ¶æ€

| ç»„ä»¶ | ç¼–è¯‘ | è¿è¡Œ | æ–‡æ¡£ |
|------|------|------|------|
| Server | âœ… | âœ… | âœ… |
| Client | âœ… | âš ï¸* | âœ… |
| Contracts | - | - | âœ… |

*éœ€è¦é…ç½® .env å’ŒçœŸå®žç§é’¥æ‰èƒ½å®Œæ•´æµ‹è¯•

## ðŸŽ¯ ä¸‹ä¸€æ­¥

### æµ‹è¯•
1. éƒ¨ç½²æµ‹è¯•åˆçº¦
2. é…ç½®æœåŠ¡å™¨
3. æŽˆäºˆ Minter è§’è‰²
4. æµ‹è¯•å®¢æˆ·ç«¯ mint

### å¯é€‰æ”¹è¿›
1. æ·»åŠ æ•°æ®åº“æŒä¹…åŒ–
2. å®žçŽ° Rate limiting
3. æ·»åŠ  Webhook é€šçŸ¥
4. æ”¯æŒæ‰¹é‡ mint
5. æ·»åŠ  Web UI

## ðŸ“š ç›¸å…³æ–‡æ¡£

- [Server README](./server/README.md)
- [Client README](./client/README.md)
- [Client USAGE](./client/USAGE.md)
- [Quick Start](./QUICK_START.md)

## ðŸ†˜ å¸¸ç”¨å‘½ä»¤

```bash
# åœæ­¢å ç”¨ç«¯å£
lsof -ti:4021 | xargs kill -9

# å¯åŠ¨æœåŠ¡å™¨
cd server && npm start

# è¿è¡Œå®¢æˆ·ç«¯
cd client && npm start

# æŸ¥çœ‹æ—¥å¿—
tail -f server/logs/app.log

# æ£€æŸ¥å¥åº·çŠ¶æ€
curl http://localhost:4021/health

# æŸ¥çœ‹ mint ä¿¡æ¯
curl http://localhost:4021/info
```

## âœ… å®Œæˆæ¸…å•

- [x] é‡æž„ server ç§»é™¤ x402-express ä¾èµ–
- [x] é‡æž„ client ç§»é™¤ x402-axios ä¾èµ–
- [x] åˆ›å»º server README
- [x] åˆ›å»º client README
- [x] åˆ›å»ºä½¿ç”¨æŒ‡å—
- [x] åˆ›å»ºå¿«é€Ÿå¼€å§‹æ–‡æ¡£
- [x] ç¼–è¯‘æµ‹è¯•é€šè¿‡
- [x] ä»£ç è´¨é‡æ£€æŸ¥é€šè¿‡
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆéœ€è¦çœŸå®žçŽ¯å¢ƒï¼‰
- [ ] ç”Ÿäº§çŽ¯å¢ƒéƒ¨ç½²ï¼ˆå¯é€‰ï¼‰

## ðŸ“… æ›´æ–°æ—¥æœŸ

2025-10-27

---

**çŠ¶æ€ï¼šé‡æž„å®Œæˆï¼Œå¯ä»¥æŠ•å…¥ä½¿ç”¨** âœ…
